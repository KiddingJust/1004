<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>지도 생성하기</title>

</head>
<body>
<!-- 지도를 표시할 div 입니다 -->
<div id="map" style="width:100%;height:50vh;"></div>

<style>
    .wrapper {
        display: flex;
        width: 100%;
        height: 50vh;
        justify-content: center;
        align-items: center;
        background-color: cadetblue;
    }
    .listUL {
        list-style: none;
        color: white;
        font-size: 1.5em;
    }
    .listUL li {
        border: 1px solid white;
    }
</style>

<div class="wrapper">
    <ul class="listUL">

    </ul>
</div>

<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=e30c79bd1164f10f4de434c391c2dec9"></script>
<script>
    var mapContainer = document.getElementById('map'), // 지도를 표시할 div
        mapOption = {
            center: new daum.maps.LatLng(37.570430, 126.985455), // 지도의 중심좌표
            level: 3 // 지도의 확대 레벨
        };

    var map = new daum.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

    //마커를 생성합니다
    var marker = new daum.maps.Marker({
        position: new daum.maps.LatLng(37.570430,126.985455),
        map:map
    });

    // 마커가 지도 위에 표시되도록 설정합니다
    marker.setMap(map);

</script>

<script>
    var arr = [
        {title:'고기팩토리',lat:37.569820, lng: 126.986001},
        {title:'갓덴스시',lat:37.569081,lng:126.985591},
        {title:'코다차야',lat:37.569949,lng:126.985049},
        {title:'롯데리아',lat:37.569857,lng:126.984923},
        {title:'초밥의신부타',lat:37.569440,lng:126.987367},
        {title:'청진식당',lat:37.570515,lng:126.985710},
        {title:'에머이',lat:37.570031,lng:126.984601},
        {title:'쿠킨스테이크',lat:37.569934,lng:126.985787},
        {title:'서브웨이',lat:37.570325,lng:126.985932},
        {title:'미스터시래기',lat:37.573029,lng:126.985420}
    ];

    //listUL에 뿌릴 것
    var targetUL = document.querySelector(".listUL");

    var str = '';
    ///아래 배열 안에는 function
    var fnArr = [];
    var idx = 0;
    for(var store of arr) {
            var fn = function(s){
                return function(){
                    console.log(s)
                };
            };

        fnArr.push(fn(store));

        //arr 각각이 함수이므로 arr[i]를 실행
        str += "<li onclick='fnArr["+idx+"]()'>" + store.title + "</li>";
        idx++;
    }
    targetUL.innerHTML = str;

    // 가게 정보를 가져오는 함수
    // function showMarker(store){
    //     console.log(store)
    // }

</script>

</body>
</html>